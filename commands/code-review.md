---
allowed-tools: Read, Glob, Grep, Bash, TodoWrite, Write
description: 执行全面的代码质量审查，涵盖质量、安全、性能和架构
argument-hint: [path] - 可选审查路径
---

# 全面的代码质量审查

执行全面的代码质量审查

## 指令

遵循这些步骤进行彻底的代码审查：

1. **仓库分析**
   - 检查仓库结构并识别主要语言/框架
   - 检查配置文件（package.json、requirements.txt、Cargo.toml 等）
   - 查看 README 和文档以获取上下文

2. **代码质量评估**
   - 扫描代码异味、反模式和潜在错误
   - 检查一致的编码风格和命名约定
   - 识别未使用的导入、变量或死代码
   - 审查错误处理和日志记录实践

3. **安全审查**
   - 查找常见安全漏洞（SQL 注入、XSS 等）
   - 检查硬编码的秘密、API 密钥或密码
   - 审查身份验证和授权逻辑
   - 检查输入验证和清理

4. **性能分析**
   - 识别潜在性能瓶颈
   - 检查低效算法或数据库查询
   - 审查内存使用模式和潜在泄漏
   - 分析包大小和优化机会

5. **架构与设计**
   - 评估代码组织和关注点分离
   - 检查适当的抽象和模块化
   - 审查依赖管理和耦合
   - 评估可扩展性和可维护性

6. **测试覆盖率**
   - 检查现有测试覆盖率和质量
   - 识别缺乏适当测试的区域
   - 审查测试结构和组织
   - 建议额外的测试场景

7. **文档审查**
   - 评估代码注释和内联文档
   - 检查 API 文档完整性
   - 查看 README 和设置说明
   - 识别需要更好文档的区域

8. **建议**
   - 按严重性（关键、高、中、低）对问题进行优先级排序
   - 提供具体、可操作的建议
   - 建议改进工具和实践
   - 创建包含后续步骤的摘要报告

请具有建设性并提供具体示例，并在适用时包含文件路径和行号。