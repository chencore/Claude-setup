# 性能审计命令

审计应用程序性能指标

## 指令

遵循以下步骤进行全面的性能审计：

1. **技术栈分析**
   - 识别主要语言、框架和运行时环境
   - 审查构建工具和优化配置
   - 检查已存在的性能监控工具

2. **代码性能分析**
   - 识别低效的算法和数据结构
   - 查找嵌套循环和 O(n²) 操作
   - 检查不必要的计算和冗余操作
   - 审查内存分配模式和潜在泄漏

3. **数据库性能**
   - 分析数据库查询的效率
   - 检查缺失的索引和慢查询
   - 审查连接池和数据库配置
   - 识别 N+1 查询问题和过多的数据库调用

4. **前端性能（如果适用）**
   - 分析包大小和块优化
   - 检查未使用的代码和依赖
   - 审查图像优化和懒加载
   - 检查渲染性能和重新渲染周期
   - 检查 UI 组件中的内存泄漏

5. **网络性能**
   - 审查 API 调用模式和缓存策略
   - 检查不必要的网络请求
   - 分析有效载荷大小和压缩
   - 检查 CDN 使用和静态资源优化

6. **异步操作**
   - 审查 async/await 使用和 promise 处理
   - 检查阻塞操作和竞争条件
   - 分析任务队列和后台处理
   - 识别并行执行的机会

7. **内存使用**
   - 检查内存泄漏和过度的内存消耗
   - 审查垃圾回收模式
   - 分析对象生命周期和清理
   - 识别大对象和不必要的数据保留

8. **构建和部署性能**
   - 分析构建时间和优化机会
   - 审查依赖打包和 tree shaking
   - 检查开发和生产优化
   - 检查部署管道效率

9. **性能监控**
   - 检查现有的性能指标和监控
   - 识别要跟踪的关键绩效指标 (KPI)
   - 审查警报和性能阈值
   - 建议性能测试策略

10. **基准测试和分析**
    - 运行适用于技术栈的性能分析工具
    - 为关键代码路径创建基准测试
    - 测量优化前后的影响
    - 记录性能基线

11. **优化建议**
    - 按影响力和工作量优先级排序优化
    - 提供具体的代码示例和替代方案
    - 建议可扩展性的架构改进
    - 推荐适当的性能工具和库

尽可能包含具体的文件路径、行号和可衡量的指标。首先关注高影响、低工作量的优化。